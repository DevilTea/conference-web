var e=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,t=(s,a,l)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,n=(e,n)=>{for(var o in n||(n={}))s.call(n,o)&&t(e,o,n[o]);if(a)for(var o of a(n))l.call(n,o)&&t(e,o,n[o]);return e};import{a as o,u as r,b as i,f as u,p as c,c as d,i as p,g as m}from"./app.ecef5932.js";import{d as y,b as v,o as b,c as h,a as T,F as f,e as g,x as I,y as k,j as S,t as x,v as L,B as O,C as E,p as $,n as j,w as A}from"./vendor.6e7f15d5.js";var _=y({name:"AgendaNavbar",setup(){const{isLoaded:e,currentDayIndex:s,daysSchedule:a}=o(),l=v((()=>a.value.map((e=>e.day)))),t=v((()=>l.value[s.value]));return{isLoaded:e,days:l,selectedDay:t,onTabClick:e=>{s.value=e}}}});const w={key:0,class:"schedule-navbar"},D={class:"tabs"},M={class:"day-text"},C={class:"date"};_.render=function(e,s,a,l,t,n){return e.isLoaded?(b(),h("nav",w,[T("div",D,[(b(!0),h(f,null,g(e.days,((s,a)=>(b(),h("div",{class:["tab",{active:e.selectedDay.join("")===s.join("")}],key:`day-option-${a}`,onClick:s=>e.onTabClick(a)},[T("span",M,I(`Day ${a+1}`),1),T("span",C,I(s.join(" / ")),1)],10,["onClick"])))),128))])])):k("v-if",!0)};var P=y({name:"ScheduleItem",props:{sessionId:{type:String,required:!0}},setup(e){const{t:s,locale:a}=r(),{xsOnly:l}=i(),{isLoaded:t,getSessionById:n}=o(),c=v((()=>n(e.sessionId))),d=v((()=>({name:"SessionDetail",params:{sessionId:c.value.id}}))),p=v((()=>c.value.type[a.value].name)),m=v((()=>`${u(c.value.start,"：")} ~ ${u(c.value.end,"：")}`)),y=v((()=>c.value[a.value].title)),b=v((()=>c.value.speakers.map((e=>e[a.value].name)))),h=v((()=>c.value.tags.map((e=>e[a.value].name)))),T=v((()=>c.value.language)),f=v((()=>c.value.room[a.value].name.split(" / ")[0])),g=S(!1),I=v((()=>s("session['room-status']."+(g.value?"full":"vacancy"))));return{isLoaded:t,xsOnly:l,location:d,track:p,period:m,title:y,speakers:b,tags:h,language:T,room:f,isFull:g,statusText:I}}});const R={class:"content-section"},N={class:"track"},q={class:"status"},F={class:"name"},B={class:"period"},G={class:"title"},U={class:"speaker-list"},H=T("span",null,"by",-1),W={class:"tag-list"};P.render=function(e,s,a,l,t,n){const o=x("router-link");return e.isLoaded?(b(),h(o,{key:0,class:"schedule-item",to:e.location},{default:L((()=>[T("section",R,[T("h4",N,[O(T("div",{class:["room",{full:e.isFull}]},[T("span",q,I(e.statusText),1),T("span",F,I(e.room),1)],2),[[E,e.xsOnly]]),T("span",null,I(e.track),1)]),k("  "),T("h4",B,I(e.period),1),k("  "),T("h2",G,I(e.title),1),k("  "),T("h3",U,[H,(b(!0),h(f,null,g(e.speakers,((s,a)=>(b(),h("span",{key:`session-${e.sessionId}-speaker-${a}`,class:"speaker"},I(s),1)))),128))]),k("  "),T("div",W,[T("span",null,I(e.language),1),(b(!0),h(f,null,g(e.tags,((s,a)=>(b(),h("span",{key:`tag-${e.sessionId}-tag-${a}`,class:"tag"},I(s),1)))),128))])])])),_:1},8,["to"])):k("v-if",!0)};var z=y({name:"ScheduleList",components:{ScheduleItem:P},props:{list:{type:Object,required:!0},sessionsMap:{type:Object,rquired:!0}},setup:()=>({getTimeText:([e,s])=>`${c(e)}：${c(s)}`})});const J={class:"schedule-list"},K={class:"time"};z.render=function(e,s,a,l,t,n){const o=P;return b(),h("ul",J,[(b(!0),h(f,null,g(e.list.items,((s,a)=>(b(),h("section",{key:`schedule-list-section-${a.toString()}`,class:"section"},[T("li",K,I(e.getTimeText(s.start)),1),(b(!0),h(f,null,g(s.elements,(({session:e})=>(b(),h("li",{key:`schedule-list-section-${a.toString()}-session-${e}`,class:"schedule-item-container"},[T(o,{"session-id":e},null,8,["session-id"])])))),128))])))),128))])};var Q=y({name:"AgendaTableRoomCell",props:{roomId:{type:String,required:!0}},setup(e){const{t:s,locale:a}=r(),{isLoaded:l,getRoomById:t,getRoomStatusById:n}=o(),i=v((()=>t(e.roomId)[a.value].name.split(" / ")[0])),u=v((()=>n(e.roomId))),c=v((()=>u.value.isFull)),d=v((()=>s("session['room-status']."+(c.value?"full":"vacancy"))));return{isLoaded:l,roomName:i,isFull:c,statusText:d}}});const V={key:0,class:"schedule-table-room-cell"},X={class:"status"},Y={class:"text"},Z=T("span",null,"Room",-1);Q.render=function(e,s,a,l,t,n){return e.isLoaded?(b(),h("div",V,[T("div",X,[T("span",{class:["bubble",{full:e.isFull}]},null,2),T("span",Y,I(e.statusText),1)]),Z,T("span",null,I(e.roomName),1)])):k("v-if",!0)};var ee=y({name:"ScheduleTable",components:{ScheduleItem:P,ScheduleTableRoomCell:Q},props:{table:{type:Object,required:!0}}});const se={class:"schedule-table"},ae={class:"room-list"},le={class:"cell-content"},te=T("div",{style:{height:"0.5rem"}},null,-1),ne={class:"table-body"},oe={class:"cell-content"};ee.render=function(e,s,a,l,t,n){const o=Q,r=P;return b(),h("table",se,[T("thead",ae,[T("tr",null,[(b(!0),h(f,null,g(e.table.head,(e=>(b(),h("th",{key:`table-room-${e.room}`},[T("div",le,[T(o,{"room-id":e.room},null,8,["room-id"])])])))),128))])]),te,T("tbody",ne,[(b(!0),h(f,null,g(e.table.body,((e,s)=>(b(),h("tr",{key:`table-row-${s}`},[(b(!0),h(f,null,g(e,((e,a)=>(b(),h("td",{key:`table-row-${s}-cell-${a}`,rowspan:e.rowspan},[T("div",oe,["session"===e.type?(b(),h(r,{key:0,"session-id":e.element.session},null,8,["session-id"])):k("v-if",!0)])],8,["rowspan"])))),128))])))),128))])])};var re=y({name:"Session",components:{ScheduleNavbar:_,ScheduleTable:ee,ScheduleList:z},setup(){const e=$(),s=j(),{load:a,daysSchedule:l,currentDayIndex:t,getSessionById:u,isLoaded:c}=o(),{openPopUp:y,removeAll:v}=d(),{xsOnly:b}=i(),{locale:h}=r();return A((()=>[e.params.sessionId,c.value]),(([a,l],t)=>{if(!l)return;if("string"!=typeof a)return void v((e=>{var s;return!(null==(s=e.popupId)?void 0:s.startsWith("session-"))}));const o=()=>{s.push({name:"Room"===e.query.from?"Room":"Session"})};y("template"===a?{popupId:"session-template",metaOptions:{title:"@{TEMPLATE_META_TITLE}",description:"@{TEMPLATE_META_DESCRIPTION}",ogUrl:"@{TEMPLATE_META_OG_URL}",ogImage:"@{TEMPLATE_META_OG_IMAGE}"},containerData:{type:"default"},contentData:{type:"html",html:"@{TEMPLATE_CONTENT_HTML}"},onClose:o}:n(n({},m(u(a),h.value)),{onClose:o}))}),{immediate:!0}),p&&A(t,(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})})),{xsOnly:b,currentDayIndex:t,daysSchedule:l,load:a}},async serverPrefetch(){await this.load()}});const ie={id:"session",class:"page-container"};re.render=function(e,s,a,l,t,n){const o=_,r=z,i=ee;return b(),h("main",ie,[T(o),(b(!0),h(f,null,g(e.daysSchedule,((s,a)=>(b(),h(f,null,[e.xsOnly?O((b(),h(r,{key:`list-${s.day.join("")}`,list:s.list},null,8,["list"])),[[E,e.currentDayIndex===a]]):O((b(),h(i,{key:`table-${s.day.join("")}`,table:s.table},null,8,["table"])),[[E,e.currentDayIndex===a]])],64)))),256))])};export default re;
